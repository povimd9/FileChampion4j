<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<section xmlns="http://docbook.org/ns/docbook" version="5.0" xmlns:xlink="http://www.w3.org/1999/xlink" xml:id="__cli_plugin_helper_8java_source" xml:lang="en-US">
<title>CliPluginHelper.java</title>
<indexterm><primary>src/main/java/dev/filechampion/filechampion4j/CliPluginHelper.java</primary></indexterm>
Go to the documentation of this file.<programlisting linenumbering="unnumbered"><anchor xml:id="__cli_plugin_helper_8java_source_1l00001"/><link linkend="_namespacedev_1_1filechampion_1_1filechampion4j">00001</link> <emphasis role="keyword">package&#32;</emphasis>dev.filechampion.filechampion4j;
<anchor xml:id="__cli_plugin_helper_8java_source_1l00002"/>00002 
<anchor xml:id="__cli_plugin_helper_8java_source_1l00003"/>00003 <emphasis role="keyword">import</emphasis>&#32;java.io.BufferedReader;
<anchor xml:id="__cli_plugin_helper_8java_source_1l00004"/>00004 <emphasis role="keyword">import</emphasis>&#32;java.io.File;
<anchor xml:id="__cli_plugin_helper_8java_source_1l00005"/>00005 <emphasis role="keyword">import</emphasis>&#32;java.io.IOException;
<anchor xml:id="__cli_plugin_helper_8java_source_1l00006"/>00006 <emphasis role="keyword">import</emphasis>&#32;java.io.InputStream;
<anchor xml:id="__cli_plugin_helper_8java_source_1l00007"/>00007 <emphasis role="keyword">import</emphasis>&#32;java.io.InputStreamReader;
<anchor xml:id="__cli_plugin_helper_8java_source_1l00008"/>00008 <emphasis role="keyword">import</emphasis>&#32;java.io.SequenceInputStream;
<anchor xml:id="__cli_plugin_helper_8java_source_1l00009"/>00009 <emphasis role="keyword">import</emphasis>&#32;java.nio.file.Files;
<anchor xml:id="__cli_plugin_helper_8java_source_1l00010"/>00010 <emphasis role="keyword">import</emphasis>&#32;java.nio.file.Path;
<anchor xml:id="__cli_plugin_helper_8java_source_1l00011"/>00011 <emphasis role="keyword">import</emphasis>&#32;java.util.Base64;
<anchor xml:id="__cli_plugin_helper_8java_source_1l00012"/>00012 <emphasis role="keyword">import</emphasis>&#32;java.util.Comparator;
<anchor xml:id="__cli_plugin_helper_8java_source_1l00013"/>00013 <emphasis role="keyword">import</emphasis>&#32;java.util.HashMap;
<anchor xml:id="__cli_plugin_helper_8java_source_1l00014"/>00014 <emphasis role="keyword">import</emphasis>&#32;java.util.Map;
<anchor xml:id="__cli_plugin_helper_8java_source_1l00015"/>00015 <emphasis role="keyword">import</emphasis>&#32;java.util.Scanner;
<anchor xml:id="__cli_plugin_helper_8java_source_1l00016"/>00016 <emphasis role="keyword">import</emphasis>&#32;java.util.concurrent.TimeUnit;
<anchor xml:id="__cli_plugin_helper_8java_source_1l00017"/>00017 <emphasis role="keyword">import</emphasis>&#32;java.util.logging.Level;
<anchor xml:id="__cli_plugin_helper_8java_source_1l00018"/>00018 <emphasis role="keyword">import</emphasis>&#32;java.util.logging.LogManager;
<anchor xml:id="__cli_plugin_helper_8java_source_1l00019"/>00019 <emphasis role="keyword">import</emphasis>&#32;java.util.logging.Logger;
<anchor xml:id="__cli_plugin_helper_8java_source_1l00020"/>00020 <emphasis role="keyword">import</emphasis>&#32;java.util.regex.Matcher;
<anchor xml:id="__cli_plugin_helper_8java_source_1l00021"/>00021 <emphasis role="keyword">import</emphasis>&#32;java.util.regex.Pattern;
<anchor xml:id="__cli_plugin_helper_8java_source_1l00022"/>00022 <emphasis role="keyword">import</emphasis>&#32;java.util.stream.Stream;
<anchor xml:id="__cli_plugin_helper_8java_source_1l00023"/>00023 
<anchor xml:id="__cli_plugin_helper_8java_source_1l00024"/>00024 <emphasis role="keyword">import</emphasis>&#32;dev.filechampion.filechampion4j.PluginsHelper.StepConfig;
<anchor xml:id="__cli_plugin_helper_8java_source_1l00025"/>00025 
<anchor xml:id="__cli_plugin_helper_8java_source_1l00026"/>00026 
<anchor xml:id="__cli_plugin_helper_8java_source_1l00027"/><link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper">00027</link> <emphasis role="keyword">public</emphasis>&#32;<emphasis role="keyword">class&#32;</emphasis><link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper">CliPluginHelper</link>&#32;{
<anchor xml:id="__cli_plugin_helper_8java_source_1l00028"/><link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1a77fdcf35fcdaf1bd2c1355573b277d29">00028</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">private</emphasis>&#32;<emphasis role="keyword">final</emphasis>&#32;<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_plugins_helper_1_1_step_config">StepConfig</link>&#32;<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1a77fdcf35fcdaf1bd2c1355573b277d29">singleStepConfig</link>;
<anchor xml:id="__cli_plugin_helper_8java_source_1l00029"/><link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1ae1c096a23dbe6da635f3a21a9eadf125">00029</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">private</emphasis>&#32;<emphasis role="keyword">final</emphasis>&#32;<emphasis role="keywordtype">int</emphasis>&#32;<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1ae1c096a23dbe6da635f3a21a9eadf125">timeout</link>;
<anchor xml:id="__cli_plugin_helper_8java_source_1l00030"/><link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1a3546eabb2e2c390b6093d98b838adee4">00030</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">private</emphasis>&#32;String&#32;<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1a3546eabb2e2c390b6093d98b838adee4">endpoint</link>;
<anchor xml:id="__cli_plugin_helper_8java_source_1l00031"/><link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1a9c0ef0449badfc805d360b5554d44bef">00031</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">private</emphasis>&#32;<emphasis role="keyword">final</emphasis>&#32;String&#32;<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1a9c0ef0449badfc805d360b5554d44bef">responseConfig</link>;
<anchor xml:id="__cli_plugin_helper_8java_source_1l00032"/><link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1a08f8b413ee2d1ca64211cdae5a69cdfd">00032</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">private</emphasis>&#32;<emphasis role="keyword">final</emphasis>&#32;StringBuilder&#32;<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1af08c53be3d97acef61b3838ce88ecfe1">logMessage</link>&#32;=&#32;<emphasis role="keyword">new</emphasis>&#32;StringBuilder();
<anchor xml:id="__cli_plugin_helper_8java_source_1l00033"/>00033 
<anchor xml:id="__cli_plugin_helper_8java_source_1l00034"/>00034 &#32;&#32;&#32;&#32;<emphasis role="keyword">static</emphasis>&#32;{
<anchor xml:id="__cli_plugin_helper_8java_source_1l00035"/>00035 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">try</emphasis>&#32;{
<anchor xml:id="__cli_plugin_helper_8java_source_1l00036"/>00036 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;LogManager.getLogManager().readConfiguration(
<anchor xml:id="__cli_plugin_helper_8java_source_1l00037"/>00037 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_file_validator">FileValidator</link>.class.getResourceAsStream(<emphasis role="stringliteral">&quot;/logging.properties&quot;</emphasis>));
<anchor xml:id="__cli_plugin_helper_8java_source_1l00038"/>00038 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}&#32;<emphasis role="keywordflow">catch</emphasis>&#32;(IOException&#32;e)&#32;{
<anchor xml:id="__cli_plugin_helper_8java_source_1l00039"/>00039 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">throw</emphasis>&#32;<emphasis role="keyword">new</emphasis>&#32;IllegalArgumentException(<emphasis role="stringliteral">&quot;Could&#32;not&#32;load&#32;default&#32;logging&#32;configuration:&#32;&quot;</emphasis>,&#32;e);
<anchor xml:id="__cli_plugin_helper_8java_source_1l00040"/>00040 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__cli_plugin_helper_8java_source_1l00041"/>00041 &#32;&#32;&#32;&#32;}
<anchor xml:id="__cli_plugin_helper_8java_source_1l00042"/><link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1a65d68ba95e30d6a2fedd8cb51399627b">00042</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">private</emphasis>&#32;<emphasis role="keyword">final</emphasis>&#32;Logger&#32;<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1a65d68ba95e30d6a2fedd8cb51399627b">logger</link>&#32;=&#32;Logger.getLogger(<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper">CliPluginHelper</link>.class.getName());
<anchor xml:id="__cli_plugin_helper_8java_source_1l00043"/><link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1a5a26b6d864c66cbed7bf7596f8c09e57">00043</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">private</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1a5a26b6d864c66cbed7bf7596f8c09e57">logFine</link>(String&#32;message)&#32;{
<anchor xml:id="__cli_plugin_helper_8java_source_1l00044"/>00044 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1a65d68ba95e30d6a2fedd8cb51399627b">logger</link>.isLoggable(Level.FINE&#32;))&#32;{
<anchor xml:id="__cli_plugin_helper_8java_source_1l00045"/>00045 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1a65d68ba95e30d6a2fedd8cb51399627b">logger</link>.fine(message);
<anchor xml:id="__cli_plugin_helper_8java_source_1l00046"/>00046 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__cli_plugin_helper_8java_source_1l00047"/>00047 &#32;&#32;&#32;&#32;}
<anchor xml:id="__cli_plugin_helper_8java_source_1l00048"/><link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1a24f7f65ac7fe37ec08a1fac2096e5571">00048</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">private</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1a24f7f65ac7fe37ec08a1fac2096e5571">logWarn</link>(String&#32;message)&#32;{
<anchor xml:id="__cli_plugin_helper_8java_source_1l00049"/>00049 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1a65d68ba95e30d6a2fedd8cb51399627b">logger</link>.isLoggable(Level.WARNING))&#32;{
<anchor xml:id="__cli_plugin_helper_8java_source_1l00050"/>00050 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1a65d68ba95e30d6a2fedd8cb51399627b">logger</link>.warning(message);
<anchor xml:id="__cli_plugin_helper_8java_source_1l00051"/>00051 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__cli_plugin_helper_8java_source_1l00052"/>00052 &#32;&#32;&#32;&#32;}
<anchor xml:id="__cli_plugin_helper_8java_source_1l00053"/>00053 <emphasis role="comment"></emphasis>
<anchor xml:id="__cli_plugin_helper_8java_source_1l00054"/>00054 <emphasis role="comment">&#32;&#32;&#32;&#32;/**</emphasis>
<anchor xml:id="__cli_plugin_helper_8java_source_1l00055"/>00055 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;*&#32;Constructor&#32;for&#32;CliPluginHelper</emphasis>
<anchor xml:id="__cli_plugin_helper_8java_source_1l00056"/>00056 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;*&#32;@param&#32;singleStepConfig&#32;(StepConfig)&#32;-&#32;the&#32;step&#32;configuration</emphasis>
<anchor xml:id="__cli_plugin_helper_8java_source_1l00057"/>00057 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;*/</emphasis>
<anchor xml:id="__cli_plugin_helper_8java_source_1l00058"/><link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1ae5a576210723f85200cb56142bf90c53">00058</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1ae5a576210723f85200cb56142bf90c53">CliPluginHelper</link>(<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_plugins_helper_1_1_step_config">StepConfig</link>&#32;<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1a77fdcf35fcdaf1bd2c1355573b277d29">singleStepConfig</link>)&#32;{
<anchor xml:id="__cli_plugin_helper_8java_source_1l00059"/>00059 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;this.singleStepConfig&#32;=&#32;<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1a77fdcf35fcdaf1bd2c1355573b277d29">singleStepConfig</link>;
<anchor xml:id="__cli_plugin_helper_8java_source_1l00060"/>00060 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;this.endpoint&#32;=&#32;<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1a77fdcf35fcdaf1bd2c1355573b277d29">singleStepConfig</link>.<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_plugins_helper_1_1_step_config_1ad4f6f94505f67126dab810e2ba3c05cb">getEndpoint</link>();
<anchor xml:id="__cli_plugin_helper_8java_source_1l00061"/>00061 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;this.timeout&#32;=&#32;<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1a77fdcf35fcdaf1bd2c1355573b277d29">singleStepConfig</link>.<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_plugins_helper_1_1_step_config_1a5476415c924ea763ed197ff14b26db1b">getTimeout</link>();
<anchor xml:id="__cli_plugin_helper_8java_source_1l00062"/>00062 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;this.responseConfig&#32;=&#32;<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1a77fdcf35fcdaf1bd2c1355573b277d29">singleStepConfig</link>.<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_plugins_helper_1_1_step_config_1af4f92b35586d5cb891c3640476adba4b">getResponse</link>();
<anchor xml:id="__cli_plugin_helper_8java_source_1l00063"/>00063 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1af08c53be3d97acef61b3838ce88ecfe1">logMessage</link>.replace(0,&#32;<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1af08c53be3d97acef61b3838ce88ecfe1">logMessage</link>.length(),&#32;<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1a77fdcf35fcdaf1bd2c1355573b277d29">singleStepConfig</link>.<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_plugins_helper_1_1_step_config_1a4b6553bde319aaba0681dabe11c89250">getName</link>()).append(<emphasis role="stringliteral">&quot;&#32;object&#32;created&quot;</emphasis>);
<anchor xml:id="__cli_plugin_helper_8java_source_1l00064"/>00064 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1a5a26b6d864c66cbed7bf7596f8c09e57">logFine</link>(<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1af08c53be3d97acef61b3838ce88ecfe1">logMessage</link>.toString());
<anchor xml:id="__cli_plugin_helper_8java_source_1l00065"/>00065 &#32;&#32;&#32;&#32;}
<anchor xml:id="__cli_plugin_helper_8java_source_1l00066"/>00066 &#32;&#32;&#32;&#32;<emphasis role="comment"></emphasis>
<anchor xml:id="__cli_plugin_helper_8java_source_1l00067"/>00067 <emphasis role="comment">&#32;&#32;&#32;&#32;/**</emphasis>
<anchor xml:id="__cli_plugin_helper_8java_source_1l00068"/>00068 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;*&#32;Executes&#32;the&#32;CLI&#32;command</emphasis>
<anchor xml:id="__cli_plugin_helper_8java_source_1l00069"/>00069 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;*&#32;@param&#32;fileExtension&#32;(String)&#32;-&#32;the&#32;file&#32;extension</emphasis>
<anchor xml:id="__cli_plugin_helper_8java_source_1l00070"/>00070 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;*&#32;@param&#32;fileContent&#32;(byte[])&#32;-&#32;the&#32;file&#32;content</emphasis>
<anchor xml:id="__cli_plugin_helper_8java_source_1l00071"/>00071 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;*&#32;@param&#32;fileChecksum&#32;(String)&#32;-&#32;the&#32;file&#32;checksum</emphasis>
<anchor xml:id="__cli_plugin_helper_8java_source_1l00072"/>00072 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;*&#32;@return&#32;Map&lt;String,&#32;Map&lt;String,&#32;String&gt;&gt;&#32;-&#32;the&#32;results&#32;map</emphasis>
<anchor xml:id="__cli_plugin_helper_8java_source_1l00073"/>00073 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;*/</emphasis>
<anchor xml:id="__cli_plugin_helper_8java_source_1l00074"/><link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1af11ef9b21cd4b1ba498cc42f50c51d68">00074</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">public</emphasis>&#32;Map&lt;String,&#32;Map&lt;String,&#32;String&gt;&gt;&#32;<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1af11ef9b21cd4b1ba498cc42f50c51d68">execute</link>(String&#32;fileExtension,&#32;<emphasis role="keywordtype">byte</emphasis>[]&#32;fileContent,&#32;String&#32;fileChecksum)&#32;{&#32;
<anchor xml:id="__cli_plugin_helper_8java_source_1l00075"/>00075 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;String&#32;errString&#32;=&#32;<emphasis role="stringliteral">&quot;Error:&#32;&quot;</emphasis>;
<anchor xml:id="__cli_plugin_helper_8java_source_1l00076"/>00076 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;String&#32;result&#32;=&#32;<emphasis role="stringliteral">&quot;&quot;</emphasis>;
<anchor xml:id="__cli_plugin_helper_8java_source_1l00077"/>00077 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Map&lt;String,&#32;Map&lt;String,&#32;String&gt;&gt;&#32;responseMap&#32;=&#32;<emphasis role="keyword">new</emphasis>&#32;HashMap&lt;&gt;();
<anchor xml:id="__cli_plugin_helper_8java_source_1l00078"/>00078 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Map&lt;String,&#32;String&gt;&#32;responsePatterns&#32;=&#32;<emphasis role="keyword">new</emphasis>&#32;HashMap&lt;&gt;();
<anchor xml:id="__cli_plugin_helper_8java_source_1l00079"/>00079 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Path&#32;filePathRaw;
<anchor xml:id="__cli_plugin_helper_8java_source_1l00080"/>00080 
<anchor xml:id="__cli_plugin_helper_8java_source_1l00081"/>00081 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;filePathRaw&#32;=&#32;<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1a5183ae1a9f3f06c8c5390771050e6bea">saveFileToTempDir</link>(fileExtension,&#32;fileContent);
<anchor xml:id="__cli_plugin_helper_8java_source_1l00082"/>00082 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(filePathRaw&#32;==&#32;<emphasis role="keyword">null</emphasis>)&#32;{
<anchor xml:id="__cli_plugin_helper_8java_source_1l00083"/>00083 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;responsePatterns.put(errString,&#32;<emphasis role="stringliteral">&quot;Failed&#32;to&#32;save&#32;file&#32;to&#32;temporary&#32;directory&quot;</emphasis>);
<anchor xml:id="__cli_plugin_helper_8java_source_1l00084"/>00084 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;responseMap.put(errString,&#32;responsePatterns);
<anchor xml:id="__cli_plugin_helper_8java_source_1l00085"/>00085 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;responseMap;
<anchor xml:id="__cli_plugin_helper_8java_source_1l00086"/>00086 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__cli_plugin_helper_8java_source_1l00087"/>00087 
<anchor xml:id="__cli_plugin_helper_8java_source_1l00088"/>00088 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;String&#32;filePath&#32;=&#32;filePathRaw.toString();
<anchor xml:id="__cli_plugin_helper_8java_source_1l00089"/>00089 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1a4bb51160c381c312119497c72d95dc87">prepEndpoint</link>(filePath,&#32;fileContent,&#32;fileChecksum);
<anchor xml:id="__cli_plugin_helper_8java_source_1l00090"/>00090 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1af08c53be3d97acef61b3838ce88ecfe1">logMessage</link>.replace(0,&#32;<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1af08c53be3d97acef61b3838ce88ecfe1">logMessage</link>.length(),&#32;<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1a77fdcf35fcdaf1bd2c1355573b277d29">singleStepConfig</link>.<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_plugins_helper_1_1_step_config_1a4b6553bde319aaba0681dabe11c89250">getName</link>()).append(<emphasis role="stringliteral">&quot;&#32;endpoint:&#32;&quot;</emphasis>).append(<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1a3546eabb2e2c390b6093d98b838adee4">endpoint</link>);
<anchor xml:id="__cli_plugin_helper_8java_source_1l00091"/>00091 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1a5a26b6d864c66cbed7bf7596f8c09e57">logFine</link>(<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1af08c53be3d97acef61b3838ce88ecfe1">logMessage</link>.toString());
<anchor xml:id="__cli_plugin_helper_8java_source_1l00092"/>00092 
<anchor xml:id="__cli_plugin_helper_8java_source_1l00093"/>00093 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">try</emphasis>&#32;{
<anchor xml:id="__cli_plugin_helper_8java_source_1l00094"/>00094 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;result&#32;=&#32;<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1abe8af04a9bec3c70eec44cb0f80b315c">timedProcessExecution</link>(<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1a3546eabb2e2c390b6093d98b838adee4">endpoint</link>);
<anchor xml:id="__cli_plugin_helper_8java_source_1l00095"/>00095 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1a5a26b6d864c66cbed7bf7596f8c09e57">logFine</link>(<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1a77fdcf35fcdaf1bd2c1355573b277d29">singleStepConfig</link>.<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_plugins_helper_1_1_step_config_1a4b6553bde319aaba0681dabe11c89250">getName</link>()&#32;+&#32;<emphasis role="stringliteral">&quot;&#32;result:&#32;&quot;</emphasis>&#32;+&#32;result);
<anchor xml:id="__cli_plugin_helper_8java_source_1l00096"/>00096 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}&#32;<emphasis role="keywordflow">catch</emphasis>&#32;(IOException|NullPointerException|InterruptedException&#32;e)&#32;{
<anchor xml:id="__cli_plugin_helper_8java_source_1l00097"/>00097 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;responsePatterns.put(errString,&#32;e.getMessage());
<anchor xml:id="__cli_plugin_helper_8java_source_1l00098"/>00098 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__cli_plugin_helper_8java_source_1l00099"/>00099 
<anchor xml:id="__cli_plugin_helper_8java_source_1l00100"/>00100 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;String&#32;expectedResults&#32;=&#32;<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1a9c0ef0449badfc805d360b5554d44bef">responseConfig</link>.substring(0,&#32;<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1a9c0ef0449badfc805d360b5554d44bef">responseConfig</link>.indexOf(<emphasis role="stringliteral">&quot;${&quot;</emphasis>)&gt;-1?
<anchor xml:id="__cli_plugin_helper_8java_source_1l00101"/>00101 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1a9c0ef0449badfc805d360b5554d44bef">responseConfig</link>.indexOf(<emphasis role="stringliteral">&quot;${&quot;</emphasis>)&#32;:&#32;<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1a9c0ef0449badfc805d360b5554d44bef">responseConfig</link>.length());
<anchor xml:id="__cli_plugin_helper_8java_source_1l00102"/>00102 
<anchor xml:id="__cli_plugin_helper_8java_source_1l00103"/>00103 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(result.contains(expectedResults))&#32;{
<anchor xml:id="__cli_plugin_helper_8java_source_1l00104"/>00104 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;responsePatterns&#32;=&#32;<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1aa311727086faa1c01c796bafc7132ce5">extractResponsePatterns</link>(result);
<anchor xml:id="__cli_plugin_helper_8java_source_1l00105"/>00105 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;responseMap.put(<emphasis role="stringliteral">&quot;Success&quot;</emphasis>,&#32;responsePatterns);
<anchor xml:id="__cli_plugin_helper_8java_source_1l00106"/>00106 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;responseMap;
<anchor xml:id="__cli_plugin_helper_8java_source_1l00107"/>00107 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}&#32;<emphasis role="keywordflow">else</emphasis>&#32;{
<anchor xml:id="__cli_plugin_helper_8java_source_1l00108"/>00108 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1af08c53be3d97acef61b3838ce88ecfe1">logMessage</link>.replace(0,&#32;<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1af08c53be3d97acef61b3838ce88ecfe1">logMessage</link>.length(),&#32;<emphasis role="stringliteral">&quot;Error,&#32;expected:&#32;\&quot;&quot;</emphasis>)
<anchor xml:id="__cli_plugin_helper_8java_source_1l00109"/>00109 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;.append(expectedResults).append(<emphasis role="stringliteral">&quot;\&quot;,&#32;received:&#32;&quot;</emphasis>);
<anchor xml:id="__cli_plugin_helper_8java_source_1l00110"/>00110 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;responsePatterns.put(<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1af08c53be3d97acef61b3838ce88ecfe1">logMessage</link>.toString(),&#32;result);
<anchor xml:id="__cli_plugin_helper_8java_source_1l00111"/>00111 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;responseMap.put(errString,&#32;responsePatterns);
<anchor xml:id="__cli_plugin_helper_8java_source_1l00112"/>00112 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1a4303bf7327a767124322fef309a6fcc8">deleteTempDir</link>(filePathRaw);
<anchor xml:id="__cli_plugin_helper_8java_source_1l00113"/>00113 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;responseMap;
<anchor xml:id="__cli_plugin_helper_8java_source_1l00114"/>00114 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__cli_plugin_helper_8java_source_1l00115"/>00115 &#32;&#32;&#32;&#32;}
<anchor xml:id="__cli_plugin_helper_8java_source_1l00116"/>00116 <emphasis role="comment"></emphasis>
<anchor xml:id="__cli_plugin_helper_8java_source_1l00117"/>00117 <emphasis role="comment">&#32;&#32;&#32;&#32;/**</emphasis>
<anchor xml:id="__cli_plugin_helper_8java_source_1l00118"/>00118 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;*&#32;Extracts&#32;the&#32;response&#32;patterns&#32;from&#32;the&#32;results</emphasis>
<anchor xml:id="__cli_plugin_helper_8java_source_1l00119"/>00119 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;*&#32;@param&#32;results&#32;(String)&#32;-&#32;the&#32;results</emphasis>
<anchor xml:id="__cli_plugin_helper_8java_source_1l00120"/>00120 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;*&#32;@return&#32;Map&lt;String,&#32;String&gt;&#32;-&#32;the&#32;response&#32;patterns&#32;map</emphasis>
<anchor xml:id="__cli_plugin_helper_8java_source_1l00121"/>00121 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;*/</emphasis>
<anchor xml:id="__cli_plugin_helper_8java_source_1l00122"/><link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1aa311727086faa1c01c796bafc7132ce5">00122</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">private</emphasis>&#32;Map&lt;String,&#32;String&gt;&#32;<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1aa311727086faa1c01c796bafc7132ce5">extractResponsePatterns</link>&#32;(String&#32;results)&#32;{
<anchor xml:id="__cli_plugin_helper_8java_source_1l00123"/>00123 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Map&lt;String,&#32;String&gt;&#32;responsePatterns&#32;=&#32;<emphasis role="keyword">new</emphasis>&#32;HashMap&lt;&gt;();
<anchor xml:id="__cli_plugin_helper_8java_source_1l00124"/>00124 &#32;&#32;&#32;&#32;
<anchor xml:id="__cli_plugin_helper_8java_source_1l00125"/>00125 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Extract&#32;the&#32;placeholder&#32;name&#32;from&#32;the&#32;response&#32;pattern</emphasis>
<anchor xml:id="__cli_plugin_helper_8java_source_1l00126"/>00126 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Pattern&#32;placeholderPattern&#32;=&#32;Pattern.compile(<emphasis role="stringliteral">&quot;\\$\\{(.+?)\\}&quot;</emphasis>);
<anchor xml:id="__cli_plugin_helper_8java_source_1l00127"/>00127 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Matcher&#32;placeholderMatcher&#32;=&#32;placeholderPattern.matcher(<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1a9c0ef0449badfc805d360b5554d44bef">responseConfig</link>);
<anchor xml:id="__cli_plugin_helper_8java_source_1l00128"/>00128 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(!placeholderMatcher.find())&#32;{
<anchor xml:id="__cli_plugin_helper_8java_source_1l00129"/>00129 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;responsePatterns.put(results,&#32;results);
<anchor xml:id="__cli_plugin_helper_8java_source_1l00130"/>00130 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;responsePatterns;
<anchor xml:id="__cli_plugin_helper_8java_source_1l00131"/>00131 
<anchor xml:id="__cli_plugin_helper_8java_source_1l00132"/>00132 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__cli_plugin_helper_8java_source_1l00133"/>00133 &#32;&#32;&#32;&#32;
<anchor xml:id="__cli_plugin_helper_8java_source_1l00134"/>00134 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">do</emphasis>&#32;{
<anchor xml:id="__cli_plugin_helper_8java_source_1l00135"/>00135 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;String&#32;placeholderName&#32;=&#32;placeholderMatcher.group(1);
<anchor xml:id="__cli_plugin_helper_8java_source_1l00136"/>00136 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;String&#32;placeholderValue;
<anchor xml:id="__cli_plugin_helper_8java_source_1l00137"/>00137 &#32;&#32;&#32;&#32;
<anchor xml:id="__cli_plugin_helper_8java_source_1l00138"/>00138 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1af08c53be3d97acef61b3838ce88ecfe1">logMessage</link>.replace(0,&#32;<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1af08c53be3d97acef61b3838ce88ecfe1">logMessage</link>.length(),&#32;<emphasis role="stringliteral">&quot;Placeholder&#32;name:&#32;&quot;</emphasis>)
<anchor xml:id="__cli_plugin_helper_8java_source_1l00139"/>00139 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;.append(placeholderName)
<anchor xml:id="__cli_plugin_helper_8java_source_1l00140"/>00140 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;.append(<emphasis role="stringliteral">&quot;,&#32;ResponseConfig:&#32;&quot;</emphasis>)
<anchor xml:id="__cli_plugin_helper_8java_source_1l00141"/>00141 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;.append(<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1a9c0ef0449badfc805d360b5554d44bef">responseConfig</link>);
<anchor xml:id="__cli_plugin_helper_8java_source_1l00142"/>00142 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1a5a26b6d864c66cbed7bf7596f8c09e57">logFine</link>(<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1af08c53be3d97acef61b3838ce88ecfe1">logMessage</link>.toString());
<anchor xml:id="__cli_plugin_helper_8java_source_1l00143"/>00143 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;
<anchor xml:id="__cli_plugin_helper_8java_source_1l00144"/>00144 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;String&#32;fixedPrefix&#32;=&#32;String.format(<emphasis role="stringliteral">&quot;%s&quot;</emphasis>,&#32;<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1a9c0ef0449badfc805d360b5554d44bef">responseConfig</link>.substring(0,&#32;<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1a9c0ef0449badfc805d360b5554d44bef">responseConfig</link>.indexOf(<emphasis role="stringliteral">&quot;${&quot;</emphasis>)));
<anchor xml:id="__cli_plugin_helper_8java_source_1l00145"/>00145 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1af08c53be3d97acef61b3838ce88ecfe1">logMessage</link>.replace(0,&#32;<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1af08c53be3d97acef61b3838ce88ecfe1">logMessage</link>.length(),&#32;<emphasis role="stringliteral">&quot;Fixed&#32;prefix:&#32;&quot;</emphasis>).append(fixedPrefix);
<anchor xml:id="__cli_plugin_helper_8java_source_1l00146"/>00146 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1a5a26b6d864c66cbed7bf7596f8c09e57">logFine</link>(<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1af08c53be3d97acef61b3838ce88ecfe1">logMessage</link>.toString());
<anchor xml:id="__cli_plugin_helper_8java_source_1l00147"/>00147 &#32;&#32;&#32;&#32;
<anchor xml:id="__cli_plugin_helper_8java_source_1l00148"/>00148 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;String&#32;fixedSuffix;
<anchor xml:id="__cli_plugin_helper_8java_source_1l00149"/>00149 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;suffixStartIndex&#32;=&#32;<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1a9c0ef0449badfc805d360b5554d44bef">responseConfig</link>.indexOf(<emphasis role="stringliteral">&quot;${&quot;</emphasis>)&#32;+&#32;placeholderName.length()&#32;+&#32;3;
<anchor xml:id="__cli_plugin_helper_8java_source_1l00150"/>00150 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(suffixStartIndex&#32;==&#32;<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1a9c0ef0449badfc805d360b5554d44bef">responseConfig</link>.length())&#32;{
<anchor xml:id="__cli_plugin_helper_8java_source_1l00151"/>00151 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;fixedSuffix&#32;=&#32;<emphasis role="stringliteral">&quot;&quot;</emphasis>;
<anchor xml:id="__cli_plugin_helper_8java_source_1l00152"/>00152 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}&#32;<emphasis role="keywordflow">else</emphasis>&#32;{
<anchor xml:id="__cli_plugin_helper_8java_source_1l00153"/>00153 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;fixedSuffix&#32;=&#32;<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1a9c0ef0449badfc805d360b5554d44bef">responseConfig</link>.substring(suffixStartIndex);
<anchor xml:id="__cli_plugin_helper_8java_source_1l00154"/>00154 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1af08c53be3d97acef61b3838ce88ecfe1">logMessage</link>.replace(0,&#32;<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1af08c53be3d97acef61b3838ce88ecfe1">logMessage</link>.length(),&#32;<emphasis role="stringliteral">&quot;Fixed&#32;suffix:&#32;&quot;</emphasis>).append(fixedSuffix);
<anchor xml:id="__cli_plugin_helper_8java_source_1l00155"/>00155 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1a5a26b6d864c66cbed7bf7596f8c09e57">logFine</link>(<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1af08c53be3d97acef61b3838ce88ecfe1">logMessage</link>.toString());
<anchor xml:id="__cli_plugin_helper_8java_source_1l00156"/>00156 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__cli_plugin_helper_8java_source_1l00157"/>00157 &#32;&#32;&#32;&#32;
<anchor xml:id="__cli_plugin_helper_8java_source_1l00158"/>00158 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;String&#32;captureGroupPattern&#32;=&#32;String.format(<emphasis role="stringliteral">&quot;%s(.*)%s&quot;</emphasis>,&#32;fixedPrefix,&#32;fixedSuffix);
<anchor xml:id="__cli_plugin_helper_8java_source_1l00159"/>00159 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1af08c53be3d97acef61b3838ce88ecfe1">logMessage</link>.replace(0,&#32;<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1af08c53be3d97acef61b3838ce88ecfe1">logMessage</link>.length(),&#32;<emphasis role="stringliteral">&quot;Capture&#32;group&#32;pattern:&#32;&quot;</emphasis>).append(captureGroupPattern);
<anchor xml:id="__cli_plugin_helper_8java_source_1l00160"/>00160 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1a5a26b6d864c66cbed7bf7596f8c09e57">logFine</link>(<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1af08c53be3d97acef61b3838ce88ecfe1">logMessage</link>.toString());
<anchor xml:id="__cli_plugin_helper_8java_source_1l00161"/>00161 &#32;&#32;&#32;&#32;
<anchor xml:id="__cli_plugin_helper_8java_source_1l00162"/>00162 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Pattern&#32;pattern&#32;=&#32;Pattern.compile(captureGroupPattern);
<anchor xml:id="__cli_plugin_helper_8java_source_1l00163"/>00163 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Matcher&#32;matcher&#32;=&#32;pattern.matcher(results);
<anchor xml:id="__cli_plugin_helper_8java_source_1l00164"/>00164 &#32;&#32;&#32;&#32;
<anchor xml:id="__cli_plugin_helper_8java_source_1l00165"/>00165 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(matcher.find())&#32;{
<anchor xml:id="__cli_plugin_helper_8java_source_1l00166"/>00166 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;placeholderValue&#32;=&#32;matcher.group(1);
<anchor xml:id="__cli_plugin_helper_8java_source_1l00167"/>00167 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;responsePatterns.put(placeholderName,&#32;placeholderValue);
<anchor xml:id="__cli_plugin_helper_8java_source_1l00168"/>00168 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__cli_plugin_helper_8java_source_1l00169"/>00169 &#32;&#32;&#32;&#32;
<anchor xml:id="__cli_plugin_helper_8java_source_1l00170"/>00170 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}&#32;<emphasis role="keywordflow">while</emphasis>&#32;(placeholderMatcher.find());
<anchor xml:id="__cli_plugin_helper_8java_source_1l00171"/>00171 &#32;&#32;&#32;&#32;
<anchor xml:id="__cli_plugin_helper_8java_source_1l00172"/>00172 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;responsePatterns;
<anchor xml:id="__cli_plugin_helper_8java_source_1l00173"/>00173 &#32;&#32;&#32;&#32;}
<anchor xml:id="__cli_plugin_helper_8java_source_1l00174"/>00174 &#32;&#32;&#32;&#32;<emphasis role="comment"></emphasis>
<anchor xml:id="__cli_plugin_helper_8java_source_1l00175"/>00175 <emphasis role="comment">&#32;&#32;&#32;&#32;/**</emphasis>
<anchor xml:id="__cli_plugin_helper_8java_source_1l00176"/>00176 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;*&#32;Prepares&#32;the&#32;endpoint&#32;command&#32;by&#32;replacing&#32;the&#32;placeholders&#32;with&#32;the&#32;actual&#32;values</emphasis>
<anchor xml:id="__cli_plugin_helper_8java_source_1l00177"/>00177 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;*&#32;@param&#32;filePath&#32;(String)&#32;-&#32;the&#32;path&#32;to&#32;the&#32;file</emphasis>
<anchor xml:id="__cli_plugin_helper_8java_source_1l00178"/>00178 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;*&#32;@param&#32;fileContent&#32;(byte[])&#32;-&#32;the&#32;file&#32;content</emphasis>
<anchor xml:id="__cli_plugin_helper_8java_source_1l00179"/>00179 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;*&#32;@param&#32;fileChecksum&#32;(String)&#32;-&#32;the&#32;file&#32;checksum</emphasis>
<anchor xml:id="__cli_plugin_helper_8java_source_1l00180"/>00180 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;*/</emphasis>
<anchor xml:id="__cli_plugin_helper_8java_source_1l00181"/><link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1a4bb51160c381c312119497c72d95dc87">00181</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">private</emphasis>&#32;<emphasis role="keywordtype">void</emphasis>&#32;<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1a4bb51160c381c312119497c72d95dc87">prepEndpoint</link>(String&#32;filePath,&#32;<emphasis role="keywordtype">byte</emphasis>[]&#32;fileContent,&#32;String&#32;fileChecksum)&#32;{
<anchor xml:id="__cli_plugin_helper_8java_source_1l00182"/>00182 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;String&#32;newEndpoint&#32;=&#32;<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1a3546eabb2e2c390b6093d98b838adee4">endpoint</link>.replace(<emphasis role="stringliteral">&quot;${filePath}&quot;</emphasis>,&#32;filePath)
<anchor xml:id="__cli_plugin_helper_8java_source_1l00183"/>00183 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;.replace(<emphasis role="stringliteral">&quot;${fileContent}&quot;</emphasis>,&#32;Base64.getEncoder().encodeToString(fileContent))
<anchor xml:id="__cli_plugin_helper_8java_source_1l00184"/>00184 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;.replace(<emphasis role="stringliteral">&quot;${fileChecksum}&quot;</emphasis>,&#32;fileChecksum);
<anchor xml:id="__cli_plugin_helper_8java_source_1l00185"/>00185 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1a3546eabb2e2c390b6093d98b838adee4">endpoint</link>&#32;=&#32;newEndpoint;
<anchor xml:id="__cli_plugin_helper_8java_source_1l00186"/>00186 &#32;&#32;&#32;&#32;}
<anchor xml:id="__cli_plugin_helper_8java_source_1l00187"/>00187 <emphasis role="comment"></emphasis>
<anchor xml:id="__cli_plugin_helper_8java_source_1l00188"/>00188 <emphasis role="comment">&#32;&#32;&#32;&#32;/**</emphasis>
<anchor xml:id="__cli_plugin_helper_8java_source_1l00189"/>00189 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;*&#32;Executes&#32;the&#32;CLI&#32;command&#32;with&#32;a&#32;timeout</emphasis>
<anchor xml:id="__cli_plugin_helper_8java_source_1l00190"/>00190 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;*&#32;@param&#32;command&#32;(String)&#32;-&#32;the&#32;command&#32;to&#32;execute</emphasis>
<anchor xml:id="__cli_plugin_helper_8java_source_1l00191"/>00191 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;*&#32;@return&#32;String&#32;-&#32;the&#32;results</emphasis>
<anchor xml:id="__cli_plugin_helper_8java_source_1l00192"/>00192 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;*&#32;@throws&#32;IOException</emphasis>
<anchor xml:id="__cli_plugin_helper_8java_source_1l00193"/>00193 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;*&#32;@throws&#32;InterruptedException</emphasis>
<anchor xml:id="__cli_plugin_helper_8java_source_1l00194"/>00194 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;*&#32;@throws&#32;NullPointerException</emphasis>
<anchor xml:id="__cli_plugin_helper_8java_source_1l00195"/>00195 <emphasis role="comment">&#32;&#32;&#32;&#32;&#32;*/</emphasis>
<anchor xml:id="__cli_plugin_helper_8java_source_1l00196"/><link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1abe8af04a9bec3c70eec44cb0f80b315c">00196</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">private</emphasis>&#32;String&#32;<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1abe8af04a9bec3c70eec44cb0f80b315c">timedProcessExecution</link>(String&#32;command)&#32;<emphasis role="keywordflow">throws</emphasis>&#32;IOException,&#32;InterruptedException,&#32;NullPointerException&#32;{
<anchor xml:id="__cli_plugin_helper_8java_source_1l00197"/>00197 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;ProcessBuilder&#32;processBuilder&#32;=&#32;<emphasis role="keyword">new</emphasis>&#32;ProcessBuilder(command.split(<emphasis role="stringliteral">&quot;\\s+&quot;</emphasis>));
<anchor xml:id="__cli_plugin_helper_8java_source_1l00198"/>00198 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1af08c53be3d97acef61b3838ce88ecfe1">logMessage</link>.replace(0,&#32;<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1af08c53be3d97acef61b3838ce88ecfe1">logMessage</link>.length(),&#32;<emphasis role="stringliteral">&quot;Process&#32;starting:&#32;&quot;</emphasis>).append(command);
<anchor xml:id="__cli_plugin_helper_8java_source_1l00199"/>00199 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1a5a26b6d864c66cbed7bf7596f8c09e57">logFine</link>(<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1af08c53be3d97acef61b3838ce88ecfe1">logMessage</link>.toString());
<anchor xml:id="__cli_plugin_helper_8java_source_1l00200"/>00200 
<anchor xml:id="__cli_plugin_helper_8java_source_1l00201"/>00201 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">long</emphasis>&#32;timeoutCounter&#32;=&#32;System.currentTimeMillis();
<anchor xml:id="__cli_plugin_helper_8java_source_1l00202"/>00202 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Process&#32;process&#32;=&#32;processBuilder.start();
<anchor xml:id="__cli_plugin_helper_8java_source_1l00203"/>00203 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;TimeUnit&#32;timeUnit&#32;=&#32;TimeUnit.SECONDS;
<anchor xml:id="__cli_plugin_helper_8java_source_1l00204"/>00204 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;java.util.Timer&#32;timer&#32;=&#32;<emphasis role="keyword">new</emphasis>&#32;java.util.Timer();
<anchor xml:id="__cli_plugin_helper_8java_source_1l00205"/>00205 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;timer.schedule(
<anchor xml:id="__cli_plugin_helper_8java_source_1l00206"/>00206 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keyword">new</emphasis>&#32;java.util.TimerTask()&#32;{
<anchor xml:id="__cli_plugin_helper_8java_source_1l00207"/>00207 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;@Override
<anchor xml:id="__cli_plugin_helper_8java_source_1l00208"/>00208 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;public&#32;void&#32;run()&#32;{
<anchor xml:id="__cli_plugin_helper_8java_source_1l00209"/>00209 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;process.destroy();
<anchor xml:id="__cli_plugin_helper_8java_source_1l00210"/>00210 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__cli_plugin_helper_8java_source_1l00211"/>00211 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;},
<anchor xml:id="__cli_plugin_helper_8java_source_1l00212"/>00212 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;timeUnit.toMillis(<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1ae1c096a23dbe6da635f3a21a9eadf125">timeout</link>)
<anchor xml:id="__cli_plugin_helper_8java_source_1l00213"/>00213 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;);
<anchor xml:id="__cli_plugin_helper_8java_source_1l00214"/>00214 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordtype">int</emphasis>&#32;exitCode&#32;=&#32;process.waitFor();
<anchor xml:id="__cli_plugin_helper_8java_source_1l00215"/>00215 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;InputStream&#32;inputStream&#32;=&#32;process.getInputStream();
<anchor xml:id="__cli_plugin_helper_8java_source_1l00216"/>00216 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;InputStream&#32;errorStream&#32;=&#32;process.getErrorStream();
<anchor xml:id="__cli_plugin_helper_8java_source_1l00217"/>00217 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;SequenceInputStream&#32;sequenceInputStream&#32;=&#32;<emphasis role="keyword">new</emphasis>&#32;SequenceInputStream(inputStream,&#32;errorStream);
<anchor xml:id="__cli_plugin_helper_8java_source_1l00218"/>00218 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;BufferedReader&#32;bufferedReader&#32;=&#32;<emphasis role="keyword">new</emphasis>&#32;BufferedReader(<emphasis role="keyword">new</emphasis>&#32;InputStreamReader(sequenceInputStream));
<anchor xml:id="__cli_plugin_helper_8java_source_1l00219"/>00219 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Scanner&#32;scanner&#32;=&#32;<emphasis role="keyword">new</emphasis>&#32;Scanner(bufferedReader).useDelimiter(<emphasis role="stringliteral">&quot;\\A&quot;</emphasis>);
<anchor xml:id="__cli_plugin_helper_8java_source_1l00220"/>00220 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;String&#32;results;
<anchor xml:id="__cli_plugin_helper_8java_source_1l00221"/>00221 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(exitCode&#32;==&#32;143&#32;||&#32;exitCode&#32;==&#32;1)&#32;{
<anchor xml:id="__cli_plugin_helper_8java_source_1l00222"/>00222 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">if</emphasis>&#32;(System.currentTimeMillis()&#32;-&#32;timeoutCounter&#32;&gt;&#32;<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1ae1c096a23dbe6da635f3a21a9eadf125">timeout</link>&#32;*&#32;1000)&#32;{
<anchor xml:id="__cli_plugin_helper_8java_source_1l00223"/>00223 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;bufferedReader.close();
<anchor xml:id="__cli_plugin_helper_8java_source_1l00224"/>00224 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;sequenceInputStream.close();
<anchor xml:id="__cli_plugin_helper_8java_source_1l00225"/>00225 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;errorStream.close();
<anchor xml:id="__cli_plugin_helper_8java_source_1l00226"/>00226 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;inputStream.close();
<anchor xml:id="__cli_plugin_helper_8java_source_1l00227"/>00227 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;scanner.close();
<anchor xml:id="__cli_plugin_helper_8java_source_1l00228"/>00228 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1af08c53be3d97acef61b3838ce88ecfe1">logMessage</link>.replace(0,&#32;<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1af08c53be3d97acef61b3838ce88ecfe1">logMessage</link>.length(),&#32;<emphasis role="stringliteral">&quot;Error:&#32;&quot;</emphasis>).append(<emphasis role="stringliteral">&quot;Process&#32;timeout:&#32;&quot;</emphasis>).append(command);
<anchor xml:id="__cli_plugin_helper_8java_source_1l00229"/>00229 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1a24f7f65ac7fe37ec08a1fac2096e5571">logWarn</link>(<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1af08c53be3d97acef61b3838ce88ecfe1">logMessage</link>.toString());
<anchor xml:id="__cli_plugin_helper_8java_source_1l00230"/>00230 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1af08c53be3d97acef61b3838ce88ecfe1">logMessage</link>.toString();
<anchor xml:id="__cli_plugin_helper_8java_source_1l00231"/>00231 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__cli_plugin_helper_8java_source_1l00232"/>00232 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;results&#32;=&#32;scanner.hasNext()&#32;?&#32;scanner.next()&#32;:&#32;<emphasis role="stringliteral">&quot;&quot;</emphasis>;
<anchor xml:id="__cli_plugin_helper_8java_source_1l00233"/>00233 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;bufferedReader.close();
<anchor xml:id="__cli_plugin_helper_8java_source_1l00234"/>00234 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;sequenceInputStream.close();
<anchor xml:id="__cli_plugin_helper_8java_source_1l00235"/>00235 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;errorStream.close();
<anchor xml:id="__cli_plugin_helper_8java_source_1l00236"/>00236 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;inputStream.close();
<anchor xml:id="__cli_plugin_helper_8java_source_1l00237"/>00237 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;scanner.close();
<anchor xml:id="__cli_plugin_helper_8java_source_1l00238"/>00238 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;timer.cancel();
<anchor xml:id="__cli_plugin_helper_8java_source_1l00239"/>00239 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1af08c53be3d97acef61b3838ce88ecfe1">logMessage</link>.replace(0,&#32;<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1af08c53be3d97acef61b3838ce88ecfe1">logMessage</link>.length(),&#32;<emphasis role="stringliteral">&quot;Error:&#32;&quot;</emphasis>).append(command)&#32;.append(<emphasis role="stringliteral">&quot;Process&#32;failed:&#32;&quot;</emphasis>).append(results);
<anchor xml:id="__cli_plugin_helper_8java_source_1l00240"/>00240 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1a24f7f65ac7fe37ec08a1fac2096e5571">logWarn</link>(<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1af08c53be3d97acef61b3838ce88ecfe1">logMessage</link>.toString());
<anchor xml:id="__cli_plugin_helper_8java_source_1l00241"/>00241 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1af08c53be3d97acef61b3838ce88ecfe1">logMessage</link>.toString();
<anchor xml:id="__cli_plugin_helper_8java_source_1l00242"/>00242 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__cli_plugin_helper_8java_source_1l00243"/>00243 
<anchor xml:id="__cli_plugin_helper_8java_source_1l00244"/>00244 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;results&#32;=&#32;scanner.hasNext()&#32;?&#32;scanner.next()&#32;:&#32;<emphasis role="stringliteral">&quot;&quot;</emphasis>;
<anchor xml:id="__cli_plugin_helper_8java_source_1l00245"/>00245 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;bufferedReader.close();
<anchor xml:id="__cli_plugin_helper_8java_source_1l00246"/>00246 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;sequenceInputStream.close();
<anchor xml:id="__cli_plugin_helper_8java_source_1l00247"/>00247 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;errorStream.close();
<anchor xml:id="__cli_plugin_helper_8java_source_1l00248"/>00248 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;inputStream.close();
<anchor xml:id="__cli_plugin_helper_8java_source_1l00249"/>00249 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;scanner.close();
<anchor xml:id="__cli_plugin_helper_8java_source_1l00250"/>00250 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;timer.cancel();
<anchor xml:id="__cli_plugin_helper_8java_source_1l00251"/>00251 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1a5a26b6d864c66cbed7bf7596f8c09e57">logFine</link>(results);
<anchor xml:id="__cli_plugin_helper_8java_source_1l00252"/>00252 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;results;
<anchor xml:id="__cli_plugin_helper_8java_source_1l00253"/>00253 &#32;&#32;&#32;&#32;}
<anchor xml:id="__cli_plugin_helper_8java_source_1l00254"/>00254 
<anchor xml:id="__cli_plugin_helper_8java_source_1l00255"/>00255 &#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Save&#32;the&#32;file&#32;to&#32;temporary&#32;directory&#32;for&#32;analysis</emphasis>
<anchor xml:id="__cli_plugin_helper_8java_source_1l00256"/><link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1a5183ae1a9f3f06c8c5390771050e6bea">00256</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">private</emphasis>&#32;Path&#32;<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1a5183ae1a9f3f06c8c5390771050e6bea">saveFileToTempDir</link>(String&#32;fileExtension,&#32;<emphasis role="keywordtype">byte</emphasis>[]&#32;originalFile)&#32;{
<anchor xml:id="__cli_plugin_helper_8java_source_1l00257"/>00257 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Path&#32;tempFilePath;
<anchor xml:id="__cli_plugin_helper_8java_source_1l00258"/>00258 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">try</emphasis>&#32;{
<anchor xml:id="__cli_plugin_helper_8java_source_1l00259"/>00259 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Create&#32;a&#32;temporary&#32;directory</emphasis>
<anchor xml:id="__cli_plugin_helper_8java_source_1l00260"/>00260 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Path&#32;tempDir&#32;=&#32;Files.createTempDirectory(<emphasis role="stringliteral">&quot;tempDir&quot;</emphasis>);
<anchor xml:id="__cli_plugin_helper_8java_source_1l00261"/>00261 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;tempFilePath&#32;=&#32;Files.createTempFile(tempDir,&#32;<emphasis role="stringliteral">&quot;tempFile&quot;</emphasis>,&#32;<emphasis role="stringliteral">&quot;.&quot;</emphasis>&#32;+&#32;fileExtension);
<anchor xml:id="__cli_plugin_helper_8java_source_1l00262"/>00262 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;Files.write(tempFilePath,&#32;originalFile);
<anchor xml:id="__cli_plugin_helper_8java_source_1l00263"/>00263 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;tempFilePath;
<anchor xml:id="__cli_plugin_helper_8java_source_1l00264"/>00264 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}&#32;<emphasis role="keywordflow">catch</emphasis>&#32;(Exception&#32;e)&#32;{
<anchor xml:id="__cli_plugin_helper_8java_source_1l00265"/>00265 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;logMessage.replace(0,&#32;logMessage.length(),&#32;<emphasis role="stringliteral">&quot;Error&#32;saveFileToTempDir&#32;failed:&#32;&quot;</emphasis>).append(e.getMessage());
<anchor xml:id="__cli_plugin_helper_8java_source_1l00266"/>00266 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;logWarn(logMessage.toString());
<anchor xml:id="__cli_plugin_helper_8java_source_1l00267"/>00267 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<emphasis role="keyword">null</emphasis>;
<anchor xml:id="__cli_plugin_helper_8java_source_1l00268"/>00268 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__cli_plugin_helper_8java_source_1l00269"/>00269 &#32;&#32;&#32;&#32;}
<anchor xml:id="__cli_plugin_helper_8java_source_1l00270"/>00270 
<anchor xml:id="__cli_plugin_helper_8java_source_1l00271"/>00271 &#32;&#32;&#32;&#32;<emphasis role="comment">//&#32;Explicitly&#32;delete&#32;the&#32;temporary&#32;directory&#32;and&#32;file</emphasis>
<anchor xml:id="__cli_plugin_helper_8java_source_1l00272"/><link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1a4303bf7327a767124322fef309a6fcc8">00272</link> &#32;&#32;&#32;&#32;<emphasis role="keyword">private</emphasis>&#32;Boolean&#32;<link linkend="_classdev_1_1filechampion_1_1filechampion4j_1_1_cli_plugin_helper_1a4303bf7327a767124322fef309a6fcc8">deleteTempDir</link>(Path&#32;tempFilePath)&#32;{
<anchor xml:id="__cli_plugin_helper_8java_source_1l00273"/>00273 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">try</emphasis>&#32;(Stream&lt;Path&gt;&#32;walk&#32;=&#32;Files.walk(tempFilePath))&#32;{
<anchor xml:id="__cli_plugin_helper_8java_source_1l00274"/>00274 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;walk.sorted(Comparator.reverseOrder())
<anchor xml:id="__cli_plugin_helper_8java_source_1l00275"/>00275 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;.map(Path::toFile)
<anchor xml:id="__cli_plugin_helper_8java_source_1l00276"/>00276 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;.forEach(File::delete);
<anchor xml:id="__cli_plugin_helper_8java_source_1l00277"/>00277 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<emphasis role="keyword">true</emphasis>;
<anchor xml:id="__cli_plugin_helper_8java_source_1l00278"/>00278 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}&#32;<emphasis role="keywordflow">catch</emphasis>&#32;(Exception&#32;e)&#32;{
<anchor xml:id="__cli_plugin_helper_8java_source_1l00279"/>00279 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;logMessage.replace(0,&#32;logMessage.length(),&#32;<emphasis role="stringliteral">&quot;Error&#32;deleteTempDir&#32;failed:&#32;&quot;</emphasis>).append(e.getMessage());
<anchor xml:id="__cli_plugin_helper_8java_source_1l00280"/>00280 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;logWarn(logMessage.toString());
<anchor xml:id="__cli_plugin_helper_8java_source_1l00281"/>00281 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;<emphasis role="keywordflow">return</emphasis>&#32;<emphasis role="keyword">false</emphasis>;
<anchor xml:id="__cli_plugin_helper_8java_source_1l00282"/>00282 &#32;&#32;&#32;&#32;&#32;&#32;&#32;&#32;}
<anchor xml:id="__cli_plugin_helper_8java_source_1l00283"/>00283 &#32;&#32;&#32;&#32;}
<anchor xml:id="__cli_plugin_helper_8java_source_1l00284"/>00284 }
</programlisting></section>
